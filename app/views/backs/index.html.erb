<div class="history-main-image">
  <div class="top-session-wrap">
    <div class="player-header-wrap">
      <%= render "shared/second_header" %>
      <div class="player-header-contents">
        <div class="session-header-logo-warap">
          <h1><%= link_to "select", root_path, class:"player-header-logo" %></h1>
        </div>
      </div>
    </div>

    <%= render "shared/header" %>
    <%= form_with model: @back, url: match_backs_path, class: "registration-history", local: true do |f| %>
      <div class="front-main-wrap">
        <% if @back.errors.any? %>
          <div class="front-error-message">※９回まで入力してください</div>
        <% end %>
        <div class="front-wrap">
          <table class="score-table">
            <tr>
              <th class="score-content">
                TEAM
              </th>
              <td class="inning-wrap">
                １
              </td>
              <td class="inning-wrap">
                ２
              </td>
              <td class="inning-wrap">
                ３
              </td>
              <td class="inning-wrap">
                ４
              </td>
              <td class="inning-wrap">
                ５
              </td>
              <td class="inning-wrap">
                ６
              </td>
              <td class="inning-wrap">
                ７
              </td>
              <td class="inning-wrap">
                ８
              </td>
              <td class="inning-wrap">
                ９
              </td>
              <th class="total-wrap">
                計
              </th>
            </tr>
            <tr>
              <th class="score-content">
                <%= @match.match_name %>
              </th>
              <td>
                <%= f.text_field :back_first_fa_inning, id:"backs-first-fa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_second_fa_inning, id:"backs-second-fa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_third_fa_inning, id:"backs-third-fa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_fourth_fa_inning, id:"backs-fourth-fa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_fifth_fa_inning, id:"backs-fifth-fa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_sixth_fa_inning, id:"backs-sixth-fa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_seventh_fa_inning, id:"backs-seventh-fa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_eighth_fa_inning, id:"backs-eighth-fa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_ninth_fa_inning, id:"backs-ninth-fa-score-field", class:"score-field" %>
              </td>
              <th class="total-wrap">
                <span id="backs-fa-total"></span>
              </th>
            </tr>
            <tr>
              <th class="score-content">
                <%= current_user.name %>
              </th>
              <td>
                <%= f.text_field :back_first_sa_inning, id:"backs-first-sa-score-field", class:"score-field"  %>
              </td>
              <td>
                <%= f.text_field :back_second_sa_inning, id:"backs-second-sa-score-field", class:"score-field"  %>
              </td>
              <td>
                <%= f.text_field :back_third_sa_inning, id:"backs-third-sa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_fourth_sa_inning, id:"backs-fourth-sa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_fifth_sa_inning, id:"backs-fifth-sa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_sixth_sa_inning, id:"backs-sixth-sa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_seventh_sa_inning, id:"backs-seventh-sa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_eighth_sa_inning, id:"backs-eighth-sa-score-field", class:"score-field" %>
              </td>
              <td>
                <%= f.text_field :back_ninth_sa_inning, id:"backs-ninth-sa-score-field", class:"score-field" %>
              </td>
              <th class="total-wrap">
                <span id="backs-sa-total"></span>
              </th>
            </tr>
          </table>
        </div>

        <div class="front-history-order-offence-wrap">
          <table class="front-show-offence-members">
            <tr class="sub-show-offence-contents">
              <th class="show-batting-orders">打順</th>　
              <th class="show-start-order-names">選手名</th>
            　<th class="show-positioning">守備</th>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">１</td>
              <% @members.each do |member| %>
                <% @firsts.each do |first| %>
                  <% if @match.id == first.match_id && first.first_name_id == member.id %>
                  <td class="sub-show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @firsts.each do |first| %>
                <% if @match.id == first.match_id %>
                <td class="show-position-select"><%= first.first_position.name %></td>
                <% end %>
              <% end %>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">２</td>
              <% @members.each do |member| %>
                <% @seconds.each do |second| %>
                  <% if @match.id == second.match_id && second.second_name_id == member.id %>
                  <td class="show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @seconds.each do |second| %>
                <% if @match.id == second.match_id %>
                <td class="show-position-select"><%= second.second_position.name %></td>
                <% end %>
              <% end %>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">３</td>
              <% @members.each do |member| %>
                <% @thirds.each do |third| %>
                  <% if @match.id == third.match_id && third.third_name_id == member.id %>
                  <td class="show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @thirds.each do |third| %>
                <% if @match.id == third.match_id %>
                <td class="show-position-select"><%= third.third_position.name %></td>
                <% end %>
              <% end %>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">４</td>
              <% @members.each do |member| %>
                <% @fourths.each do |fourth| %>
                  <% if @match.id == fourth.match_id && fourth.fourth_name_id == member.id %>
                  <td class="show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @fourths.each do |fourth| %>
                <% if @match.id == fourth.match_id %>
                <td class="show-position-select"><%= fourth.fourth_position.name %></td>
                <% end %>
              <% end %>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">５</td>
              <% @members.each do |member| %>
                <% @fifths.each do |fifth| %>
                  <% if @match.id == fifth.match_id && fifth.fifth_name_id == member.id %>
                  <td class="show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @fifths.each do |fifth| %>
                <% if @match.id == fifth.match_id %>
                <td class="show-position-select"><%= fifth.fifth_position.name %></td>
                <% end %>
              <% end %>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">６</td>
              <% @members.each do |member| %>
                <% @sixths.each do |sixth| %>
                  <% if @match.id == sixth.match_id && sixth.sixth_name_id == member.id %>
                  <td class="show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @sixths.each do |sixth| %>
                <% if @match.id == sixth.match_id %>
                <td class="show-position-select"><%= sixth.sixth_position.name %></td>
                <% end %>
              <% end %>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">７</td>
              <% @members.each do |member| %>
                <% @sevenths.each do |seventh| %>
                  <% if @match.id == seventh.match_id && seventh.seventh_name_id == member.id %>
                  <td class="show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @sevenths.each do |seventh| %>
                <% if @match.id == seventh.match_id %>
                <td class="show-position-select"><%= seventh.seventh_position.name %></td>
                <% end %>
              <% end %>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">８</td>
              <% @members.each do |member| %>
                <% @eighths.each do |eighth| %>
                  <% if @match.id == eighth.match_id && eighth.eighth_name_id == member.id %>
                  <td class="show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @eighths.each do |eighth| %>
                <% if @match.id == eighth.match_id %>
                <td class="show-position-select"><%= eighth.eighth_position.name %></td>
                <% end %>
              <% end %>
            </tr>
            <tr class="sub-show-offence-contents">
              <td class="show-batting-order">９</td>
              <% @members.each do |member| %>
                <% @ninths.each do |ninth| %>
                  <% if @match.id == ninth.match_id && ninth.ninth_name_id == member.id %>
                  <td class="show-member-select"><%= member.name %></td>
                  <% end %>
                <% end %>
              <% end %>
              <% @ninths.each do |ninth| %>
                <% if @match.id == ninth.match_id %>
                <td class="show-position-select"><%= ninth.ninth_position.name %></td>
                <% end %>
              <% end %>
            </tr>
          </table>
          <div class="image-comment-wrap">
            <div class="image-comment">
              <div class="image-comment-header-wrap">
                <p>試合詳細</p>
              </div>
              <div class="history-comment-wrap">
                <div class="history-image-text">フリーコメント</div>
                <%= f.text_area :back_comment, placeholder:"試合の細かな詳細やスコアブックに載らないエラーや出来事を自由に記入してください。", class:"comment-field"%>
              </div>
            </div>
          </div>
        </div>


        <div class="front-set-wrap">
          <input type="submit" value="保存する" class="front-set-btn" name="commit">
        </div>
      </div>
    <% end %>
  </div>
</div>
